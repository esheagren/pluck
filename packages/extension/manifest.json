{
  "manifest_version": 3,
  "name": "Pluckk",
  "version": "1.0.0",
  "description": "Pluckk knowledge from any page and turn it into spaced repetition flashcards",
  "permissions": [
    "activeTab",
    "storage",
    "clipboardWrite",
    "sidePanel",
    "alarms",
    "identity",
    "scripting"
  ],
  "host_permissions": [
    "https://api.anthropic.com/*",
    "https://app.mochi.cards/*",
    "https://generativelanguage.googleapis.com/*",
    "https://grjkoedivfrjlbtfskif.supabase.co/*",
    "https://pluckk-api.vercel.app/*"
  ],
  "background": {
    "service_worker": "src/background.js",
    "type": "module"
  },
  "_comment_content_scripts": "IMPORTANT: Do not remove content_scripts in favor of programmatic injection. The sidepanel polls for selection via chrome.tabs.sendMessage which requires the content script to already be injected. Programmatic injection (via chrome.scripting.executeScript in background.js) only runs when generating cards, not during selection polling. Removing this breaks selection detection.",
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": ["src/content.js"]
    }
  ],
  "action": {
    "default_icon": {
      "16": "icons/icon-16.png",
      "48": "icons/icon-48.png",
      "128": "icons/icon-128.png"
    },
    "default_title": "Pluckk"
  },
  "side_panel": {
    "default_path": "sidepanel/sidepanel.html"
  },
  "options_ui": {
    "page": "options/options.html",
    "open_in_tab": true
  },
  "commands": {
    "_execute_action": {
      "suggested_key": {
        "default": "Ctrl+Shift+M",
        "mac": "Command+Shift+M"
      },
      "description": "Open Pluckk"
    }
  },
  "icons": {
    "16": "icons/icon-16.png",
    "48": "icons/icon-48.png",
    "128": "icons/icon-128.png"
  }
}
